<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#062e3f">
    <meta name="Description" content="A dynamic and aesthetic To-Do List WebApp.">

    <!-- Google Font: Quick Sand -->
    <link href="https://fonts.googleapis.com/css2?family=Work+Sans:wght@300&display=swap" rel="stylesheet">

    <!-- font awesome (https://fontawesome.com) for basic icons; source: https://cdnjs.com/libraries/font-awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.0-2/css/all.min.css" integrity="sha256-46r060N2LrChLLb5zowXQ72/iKKNiw/lAmygmHExk/o=" crossorigin="anonymous" />

    <link rel="shortcut icon" type="image/png" href="assets/favicon.png"/>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/main.css') }}">
<!--    <link rel="stylesheet" href="css/main.css">-->
<!--    <link rel="stylesheet" href="css/corner.css">-->
    <title>HTA</title>
    <style>
        .bg {
          animation:slide 3s ease-in-out infinite alternate;
          background-image: linear-gradient(-60deg, #6c3 50%, #09f 50%);
          bottom:0;
          left:-50%;
          opacity:.5;
          position:fixed;
          right:-50%;
          top:0;
          z-index:-1;
        }

        .bg2 {
          animation-direction:alternate-reverse;
          animation-duration:4s;
        }

        .bg3 {
          animation-duration:5s;
        }

        @keyframes slide {
          0% {
            transform:translateX(-25%);
          }
          100% {
            transform:translateX(25%);
          }
        }
    </style>
</head>

<body>
    <div class="bg"></div>
    <div class="bg bg2"></div>
    <div class="bg bg3"></div>
    <div id = "header">
        <div class="language-picker js-language-picker">
            <form action="" class="language-picker__form">
              <button class="language-button active" id="english-btn" onclick="changeLanguage('english')"><img src="{{ url_for('static', filename='img/flags/united-kingdom.png') }}" alt="English">English</button>
              <button class="language-button" id="russian-btn" onclick="changeLanguage('russian')"><img src="{{ url_for('static', filename='img/flags/russia.png') }}" alt="Русский">Русский</button>
              <button class="language-button" id="kazakh-btn" onclick="changeLanguage('kazakh')"><img src="{{ url_for('static', filename='img/flags/kazakhstan.png') }}" alt="Қазақша">Қазақша</button>
            </form>
        </div>
        
        <h1 id="title">Macbook<div id="border"></div></h1>
    </div>


<!--  
  <div id="form">
        <form>
            <input class="todo-input" type="text" placeholder="Add a task.">
            <button class="todo-btn" type="submit">I Got This!</button>
        </form>
    </div>
-->
    <!-- div for top left corner -->
     
    <!-- <p><span id="datetime"></span></p>
        <script src="JS/time.js"></script>  -->
       
   


<!--  
<div id="myUnOrdList">
        <ul class="todo-list">
             (Basic Format)
            <div class="todo">
                items added to this list:
                <li></li>
                <button>delete</button>
                <button>check</button>
            
        </ul>
    </div>
-->

    <main>
        <div class="card">
            <div class="card__header">
                <div class="img-card"><img src="{{ url_for('static', filename='img/изображение-removebg-preview(1).png') }}" alt=""></div>
                <h1 class="card__header-title" id="card__header-title-lang">Information</h1>
            </div>
            <!-- <div class="card__desc">
                <p class="card__desc-par" id="card__desc-par-lang">Obtain devices at conveniently located stations powered by our SKD integration</p>
            </div> -->
            
            <div class="amount__info">
{#                <svg class="arrow-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">#}
{#                    <path d="M0 0h24v24H0z" fill="none"/>#}
{#                    <path d="M10 17l5-5-5-5v10z"/>#}
{#                </svg>            #}
                <p class="amount__info-para" id="amount__info-para-lang">Available: </p>    
                <h1 class="amount__info-live" id="amount__info-id">{{laptop_count}}</h1>
                <p class="amount__info-overall"></p>
            </div>
            <div class="card__button">
                <button id="card__button-lang">Use the SKD to open the station</button>
            </div>
        </div>
        <div class="photo">
            
          </div>
    </main>
    <script>
function isHomePage() {
    return window.location.pathname === '/';  // Adjust this to the correct path if needed
}

// Function to check for redirection
function checkForRedirect() {
    fetch('/check-redirect')
        .then(response => response.json())
        .then(data => {
            if (data.redirect) {
                clearInterval(redirectInterval);  // Stop polling once redirection happens
                window.location.href = '/hello_page';  // Redirect if necessary
            }
        })
        .catch(error => {
            console.error('Error:', error);
        });
}

// Start the redirect checking only if on the home page
if (isHomePage()) {
    var redirectInterval = setInterval(checkForRedirect, 2000);  // Poll every 2 seconds
}
    </script>
<!--    <script src="JS/main.js" type="text/javascript"> </script>-->
    <script src="{{ url_for('static', filename='js/take_page.js') }}"></script>
    <script src="{{ url_for('static', filename='js/get_laptop_status.js') }}"></script>
    <script src="{{ url_for('static', filename='js/main.js') }}"></script>
</body>
</html>
